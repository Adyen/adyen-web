name: Validate remote assets

on: [push]
  #pull_request:
   # branches:
    #  - main # to be removed
     # - 'releases/**'

jobs:
  check-secured-fields-assets:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout repository
        uses: actions/checkout@v2

      - name: Testing grep value
        run: |
          grep -e 'SF_VERSION' packages/lib/src/components/internal/SecuredFields/lib/configuration/constants.ts | cut -d "'" -f2
  
      - name: Testing grep value 2
        run: |
          grep -e 'SF_VERSION' $GITHUB_WORKSPACE/packages/lib/src/components/internal/SecuredFields/lib/configuration/constants.ts | cut -d "'" -f2

      - name: Get SF version
        run: |
          echo ::set-env name=SF_VERSION::$(grep -e 'SF_VERSION' packages/lib/src/components/internal/SecuredFields/lib/configuration/constants.ts | cut -d "'" -f2)

      #- name: Get SF version 2
      #  run: |
      #   echo ::set-env name=SF_VERSION::$(grep -e 'SF_VERSION' $GITHUB_WORKSPACE/packages/lib/src/components/internal/SecuredFields/lib/configuration/constants.ts | cut -d "'" -f2)

      - name: Show SF version
        run: |
          echo ${{ env.SF_VERSION }}

