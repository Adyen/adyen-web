@use 'sass:map';
@use '~@adyen/bento-design-tokens/dist/scss-map/bento/aliases';
@use '~@adyen/bento-design-tokens/dist/scss-map/bento/definitions';
@use '~@adyen/bento-design-tokens/dist/scss-map/bento/components';
@use 'overrides';

// simple re-mapping
aliases.$color: map.merge(
    aliases.$color,
    (
        // this color has been remapped for a11y reasons
        color-label-critical: map.get(aliases.$color, color-label-on-background-critical-weak),
        color-label-tertiary: map.get(aliases.$color, color-label-secondary),
        // label tertiary doesn't have enough contrast
    )
);

@function adyen-sdk-generate-css-variables($maps...) {
    $adyen-output-map: ();

    @each $map in $maps {
        @each $name, $value in $map {
            $adyen-output-map: map.merge($adyen-output-map, (#{$name}: var(--adyen-sdk-#{$name}, #{$value})));
        }
    }

    @return $adyen-output-map;
}

@function token($token, $generate-css-var: true) {
    $adyen-tokens-map: ();

    @if $generate-css-var {
        $adyen-tokens-map: adyen-sdk-generate-css-variables(
            aliases.$color,
            aliases.$text,
            aliases.$focus-ring,
            definitions.$border,
            definitions.$spacer,
            definitions.$shadow,
            definitions.$animation,
            components.$toggle,
            components.$button,
            components.$tooltip,
            components.$alert,
            overrides.$text-overrides
        );
    } @else {
        $adyen-tokens-map: map.merge(
            aliases.$color,
            aliases.$text,
            aliases.$focus-ring,
            definitions.$border,
            definitions.$spacer,
            definitions.$shadow,
            definitions.$animation,
            components.$toggle,
            components.$button,
            components.$tooltip,
            components.$alert,
            overrides.$text-overrides
        );
    }

    @return map.get($adyen-tokens-map, '#{$token}');
}
